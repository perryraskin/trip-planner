# Migration `20201030165813-add-deleted-flag`

This migration has been generated by Perry Raskin at 10/30/2020, 12:58:13 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Trip" ADD COLUMN "deleted" boolean   NOT NULL DEFAULT false

ALTER TABLE "public"."TripNote" ADD COLUMN "deleted" boolean   NOT NULL DEFAULT false

ALTER TABLE "public"."TripNoteItem" ADD COLUMN "deleted" boolean   NOT NULL DEFAULT false

ALTER TABLE "public"."TripNoteItemImage" ADD COLUMN "deleted" boolean   NOT NULL DEFAULT false
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201029180309-trip-note-item-body..20201030165813-add-deleted-flag
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -28,8 +28,9 @@
   dateEnd        DateTime
   headerImageUrl String?
   User           User?      @relation(fields: [userId], references: [id])
   TripNotes      TripNote[]
+  deleted        Boolean @default(false)
 }
 model TripNote {
   id            Int            @id @default(autoincrement())
@@ -43,8 +44,9 @@
   User          User?          @relation(fields: [userId], references: [id])
   Trip          Trip?          @relation(fields: [tripId], references: [id])
   TripNoteCosts TripNoteCost[]
   TripNoteItems TripNoteItem[]
+  deleted       Boolean @default(false)
 }
 model TripNoteCost {
   id         Int       @id @default(autoincrement())
@@ -63,8 +65,9 @@
   subtitle           String
   body            String
   TripNote           TripNote?           @relation(fields: [tripNoteId], references: [id])
   TripNoteItemImages TripNoteItemImage[]
+  deleted            Boolean @default(false)
 }
 model TripNoteItemImage {
   id             Int           @id @default(autoincrement())
@@ -73,5 +76,6 @@
   name           String
   sourceUrl      String
   tag            String
   TripNoteItem   TripNoteItem? @relation(fields: [tripNoteItemId], references: [id])
+  deleted        Boolean @default(false)
 }
```


